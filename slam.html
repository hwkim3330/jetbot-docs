<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLAM - JetBot ROS2</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¤–</text></svg>">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-content">
            <a href="index.html" class="logo">
                <img src="https://raw.githubusercontent.com/hwkim3330/roii/refs/heads/main/keti.png" alt="KETI" class="logo-img">
                <div class="logo-text">
                    <span class="main">JetBot ROS2</span>
                    <span class="sub">Orin Nano Guide</span>
                </div>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="hardware.html">Hardware</a></li>
                <li><a href="software.html">Software</a></li>
                <li><a href="ros2.html">ROS2</a></li>
                <li class="dropdown">
                    <a href="ros-advanced.html" class="active">ROS ì‹¬í™”</a>
                    <div class="dropdown-menu">
                        <a href="ros-advanced.html">í•µì‹¬ ê°œë…</a>
                        <a href="visualization.html">ì‹œê°í™” ë„êµ¬</a>
                        <a href="slam.html" class="active">SLAM</a>
                        <a href="navigation.html">Navigation</a>
                    </div>
                </li>
                <li><a href="web-tools.html">Web Tools</a></li>
                <li><a href="reference.html">Reference</a></li>
            </ul>
            <a href="https://github.com/hwkim3330/jetbot-docs" class="nav-github" target="_blank">
                <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                </svg>
                GitHub
            </a>
        </div>
    </nav>

    <main class="main-content">
        <div class="doc-layout">
            <aside class="doc-sidebar">
                <h4>SLAM ê¸°ì´ˆ</h4>
                <ul>
                    <li><a href="#slam-intro">SLAMì´ë€?</a></li>
                    <li><a href="#slam-problem">SLAM ë¬¸ì œ ì •ì˜</a></li>
                    <li><a href="#slam-types">ì•Œê³ ë¦¬ì¦˜ ì¢…ë¥˜</a></li>
                    <li><a href="#slam-sensors">ì„¼ì„œ ì„ íƒ</a></li>
                </ul>
                <h4>SLAM Toolbox</h4>
                <ul>
                    <li><a href="#toolbox-intro">ì†Œê°œ</a></li>
                    <li><a href="#toolbox-install">ì„¤ì¹˜</a></li>
                    <li><a href="#toolbox-modes">ë™ì‘ ëª¨ë“œ</a></li>
                    <li><a href="#toolbox-params">íŒŒë¼ë¯¸í„° ì„¤ì •</a></li>
                    <li><a href="#toolbox-mapping">ë§¤í•‘ ì‹¤ìŠµ</a></li>
                    <li><a href="#toolbox-localization">ìœ„ì¹˜ ì¶”ì •</a></li>
                </ul>
                <h4>Cartographer</h4>
                <ul>
                    <li><a href="#carto-intro">ì†Œê°œ</a></li>
                    <li><a href="#carto-install">ì„¤ì¹˜</a></li>
                    <li><a href="#carto-config">ì„¤ì •</a></li>
                    <li><a href="#carto-tuning">íŠœë‹</a></li>
                </ul>
                <h4>ë§µ ê´€ë¦¬</h4>
                <ul>
                    <li><a href="#map-format">ë§µ íŒŒì¼ í˜•ì‹</a></li>
                    <li><a href="#map-save">ë§µ ì €ì¥</a></li>
                    <li><a href="#map-edit">ë§µ í¸ì§‘</a></li>
                    <li><a href="#map-server">Map Server</a></li>
                </ul>
                <h4>ê³ ê¸‰ ì£¼ì œ</h4>
                <ul>
                    <li><a href="#loop-closing">ë£¨í”„ í´ë¡œì§•</a></li>
                    <li><a href="#multi-floor">ë‹¤ì¸µ ë§¤í•‘</a></li>
                    <li><a href="#visual-slam">Visual SLAM</a></li>
                </ul>
            </aside>

            <article class="doc-content">
                <div class="breadcrumb">
                    <a href="index.html">Home</a> / <a href="ros-advanced.html">ROS ì‹¬í™”</a> / <span>SLAM</span>
                </div>

                <h1 id="slam-intro">SLAMì´ë€?</h1>
                <p>
                    <strong>SLAM (Simultaneous Localization and Mapping)</strong>ì€
                    ë¡œë´‡ì´ ë¯¸ì§€ì˜ í™˜ê²½ì—ì„œ ì„¼ì„œ ë°ì´í„°ë¥¼ ì´ìš©í•˜ì—¬ <strong>ì§€ë„ë¥¼ ìƒì„±</strong>í•˜ë©´ì„œ
                    ë™ì‹œì— <strong>ìì‹ ì˜ ìœ„ì¹˜ë¥¼ ì¶”ì •</strong>í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.
                </p>

                <div class="alert alert-info">
                    <strong>ì™œ ì–´ë ¤ìš´ê°€?</strong>
                    <ul>
                        <li>ì •í™•í•œ ì§€ë„ë¥¼ ë§Œë“¤ë ¤ë©´ ì •í™•í•œ ìœ„ì¹˜ë¥¼ ì•Œì•„ì•¼ í•¨</li>
                        <li>ì •í™•í•œ ìœ„ì¹˜ë¥¼ ì•Œë ¤ë©´ ì •í™•í•œ ì§€ë„ê°€ í•„ìš”í•¨</li>
                        <li>ì´ <strong>ë‹­ê³¼ ë‹¬ê±€</strong> ë¬¸ì œë¥¼ ë™ì‹œì— í•´ê²°í•´ì•¼ í•¨</li>
                    </ul>
                </div>

                <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            SLAM PROCESS                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  ì„¼ì„œ   â”‚      â”‚   SLAM       â”‚      â”‚         ì¶œë ¥            â”‚   â”‚
â”‚   â”‚  ì…ë ¥   â”‚ â”€â”€â”€â–¶ â”‚   ì•Œê³ ë¦¬ì¦˜    â”‚ â”€â”€â”€â–¶ â”‚                        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚                                          â”‚  â”‚      Map        â”‚   â”‚   â”‚
â”‚   â€¢ LiDAR (/scan)                        â”‚  â”‚  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”  â”‚   â”‚   â”‚
â”‚   â€¢ Odometry (/odom)                     â”‚  â”‚  â”‚   â”‚ â–ˆ â”‚   â”‚  â”‚   â”‚   â”‚
â”‚   â€¢ IMU (/imu)                           â”‚  â”‚  â”‚ â–ˆ â”‚   â”‚ â–ˆ â”‚  â”‚   â”‚   â”‚
â”‚   â€¢ Camera (/image)                      â”‚  â”‚  â”‚   â”‚ R â”‚   â”‚  â”‚   â”‚   â”‚
â”‚                                          â”‚  â”‚  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜  â”‚   â”‚   â”‚
â”‚                                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚                                          â”‚                        â”‚   â”‚
â”‚                                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚                                          â”‚  â”‚   Pose (x,y,Î¸)  â”‚   â”‚   â”‚
â”‚                                          â”‚  â”‚   map â†’ odom    â”‚   â”‚   â”‚
â”‚                                          â”‚  â”‚   TF ë³€í™˜        â”‚   â”‚   â”‚
â”‚                                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>

                <h2 id="slam-problem">SLAM ë¬¸ì œì˜ ìˆ˜í•™ì  ì •ì˜</h2>

                <h3>í™•ë¥ ì  SLAM</h3>
                <p>SLAMì€ ë² ì´ì§€ì•ˆ ì¶”ì • ë¬¸ì œë¡œ ì •ì˜ë©ë‹ˆë‹¤:</p>

                <div class="diagram" style="text-align: left; padding: 2rem;">
<strong>êµ¬í•˜ê³ ì í•˜ëŠ” ê²ƒ:</strong>
P(x_t, m | z_{1:t}, u_{1:t})

ì—¬ê¸°ì„œ:
  x_t   = ì‹œê°„ tì—ì„œì˜ ë¡œë´‡ ìì„¸ (x, y, Î¸)
  m     = ì§€ë„ (Map)
  z_{1:t} = ì‹œê°„ 1~tê¹Œì§€ì˜ ê´€ì¸¡ (ì„¼ì„œ ë°ì´í„°)
  u_{1:t} = ì‹œê°„ 1~tê¹Œì§€ì˜ ì œì–´ ì…ë ¥ (ì˜¤ë„ë©”íŠ¸ë¦¬)

<strong>ë¶„í•´:</strong>
P(x_t, m | z, u) = P(x_t | m, z, u) Ã— P(m | z, u)
                   â””â”€â”€ Localization â”€â”€â”˜   â””â”€â”€ Mapping â”€â”€â”˜
                </div>

                <h3>Scan Matching</h3>
                <p>2D LiDAR SLAMì˜ í•µì‹¬ì€ ì—°ì†ëœ ìŠ¤ìº” ë°ì´í„°ë¥¼ ì •í•©(matching)í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤:</p>

<pre><code># ICP (Iterative Closest Point) ê°œë…
# 1. ì´ì „ ìŠ¤ìº” S1ê³¼ í˜„ì¬ ìŠ¤ìº” S2ê°€ ìˆì„ ë•Œ
# 2. S2ë¥¼ S1ì— ë§ì¶”ëŠ” ë³€í™˜ Të¥¼ ì°¾ìŒ
# 3. T = argmin Î£ ||p_i - T(q_i)||Â²
#    p_i âˆˆ S1, q_i âˆˆ S2

# ê²°ê³¼: ë¡œë´‡ì˜ ì´ë™ëŸ‰ (Î”x, Î”y, Î”Î¸)</code></pre>

                <h2 id="slam-types">SLAM ì•Œê³ ë¦¬ì¦˜ ì¢…ë¥˜</h2>

                <table class="specs-table">
                    <thead>
                        <tr>
                            <th>ì•Œê³ ë¦¬ì¦˜</th>
                            <th>ë°©ì‹</th>
                            <th>ì¥ì </th>
                            <th>ë‹¨ì </th>
                            <th>ì¶”ì²œ í™˜ê²½</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>EKF-SLAM</strong></td>
                            <td>Extended Kalman Filter</td>
                            <td>ì´ë¡ ì ìœ¼ë¡œ ìµœì </td>
                            <td>O(nÂ²) ë³µì¡ë„, ì„ í˜•í™” ì˜¤ë¥˜</td>
                            <td>ì‘ì€ ì‹¤ë‚´</td>
                        </tr>
                        <tr>
                            <td><strong>FastSLAM</strong></td>
                            <td>Particle Filter</td>
                            <td>ë¹„ì„ í˜• ì²˜ë¦¬, O(n log n)</td>
                            <td>íŒŒí‹°í´ ìˆ˜ì— ë¯¼ê°</td>
                            <td>ì¤‘ê°„ ê·œëª¨</td>
                        </tr>
                        <tr>
                            <td><strong>Graph SLAM</strong></td>
                            <td>ê·¸ë˜í”„ ìµœì í™”</td>
                            <td>ëŒ€ê·œëª¨ ê°€ëŠ¥, ë£¨í”„ í´ë¡œì§•</td>
                            <td>ì‹¤ì‹œê°„ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ</td>
                            <td>ëŒ€í˜• ê±´ë¬¼</td>
                        </tr>
                        <tr>
                            <td><strong>SLAM Toolbox</strong></td>
                            <td>Graph ê¸°ë°˜</td>
                            <td>ROS 2 ê¸°ë³¸, ì‚¬ìš© ì‰¬ì›€</td>
                            <td>2Dë§Œ ì§€ì›</td>
                            <td>ì‹¤ë‚´ ë¡œë´‡</td>
                        </tr>
                        <tr>
                            <td><strong>Cartographer</strong></td>
                            <td>Submap + ê·¸ë˜í”„</td>
                            <td>Google, 2D/3D, ì •í™•</td>
                            <td>ì„¤ì • ë³µì¡</td>
                            <td>ëŒ€ê·œëª¨, 3D</td>
                        </tr>
                        <tr>
                            <td><strong>Hector SLAM</strong></td>
                            <td>Scan Matching</td>
                            <td>ì˜¤ë„ë©”íŠ¸ë¦¬ ë¶ˆí•„ìš”</td>
                            <td>ë¹ ë¥¸ íšŒì „ì— ì·¨ì•½</td>
                            <td>ë“œë¡ , UAV</td>
                        </tr>
                        <tr>
                            <td><strong>GMapping</strong></td>
                            <td>Particle Filter</td>
                            <td>ë ˆê±°ì‹œ, ê²€ì¦ë¨</td>
                            <td>ROS 1ìš©</td>
                            <td>ë ˆê±°ì‹œ</td>
                        </tr>
                    </tbody>
                </table>

                <h2 id="slam-sensors">SLAM ì„¼ì„œ ì„ íƒ</h2>

                <table class="specs-table">
                    <thead>
                        <tr>
                            <th>ì„¼ì„œ</th>
                            <th>SLAM íƒ€ì…</th>
                            <th>ì¥ì </th>
                            <th>ë‹¨ì </th>
                            <th>ê°€ê²©ëŒ€</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>2D LiDAR</strong></td>
                            <td>LiDAR SLAM</td>
                            <td>ì •í™•, ì¡°ëª… ë¬´ê´€</td>
                            <td>2Dë§Œ, ê°€ê²©</td>
                            <td>$100~$1000</td>
                        </tr>
                        <tr>
                            <td><strong>3D LiDAR</strong></td>
                            <td>3D SLAM</td>
                            <td>í’ë¶€í•œ ì •ë³´</td>
                            <td>ê³ ê°€, ì—°ì‚°ëŸ‰</td>
                            <td>$1000~$10000+</td>
                        </tr>
                        <tr>
                            <td><strong>RGB ì¹´ë©”ë¼</strong></td>
                            <td>Visual SLAM</td>
                            <td>ì €ë ´, í’ë¶€í•œ ì •ë³´</td>
                            <td>ì¡°ëª… ë¯¼ê°, ì—°ì‚°ëŸ‰</td>
                            <td>$20~$200</td>
                        </tr>
                        <tr>
                            <td><strong>RGB-D ì¹´ë©”ë¼</strong></td>
                            <td>RGB-D SLAM</td>
                            <td>ê¹Šì´+ìƒ‰ìƒ</td>
                            <td>ì‹¤ì™¸ ë¶ˆê°€, ë²”ìœ„ ì œí•œ</td>
                            <td>$100~$500</td>
                        </tr>
                        <tr>
                            <td><strong>Stereo ì¹´ë©”ë¼</strong></td>
                            <td>Stereo SLAM</td>
                            <td>ì‹¤ì™¸ ê°€ëŠ¥</td>
                            <td>ìº˜ë¦¬ë¸Œë ˆì´ì…˜</td>
                            <td>$200~$1000</td>
                        </tr>
                    </tbody>
                </table>

                <div class="alert alert-success">
                    <strong>JetBot ê¶Œì¥:</strong> RPLIDAR A1 ($99) + SLAM Toolbox ì¡°í•©
                </div>

                <!-- SLAM Toolbox ì„¹ì…˜ -->
                <h1 id="toolbox-intro" style="margin-top: 4rem; padding-top: 2rem; border-top: 2px solid var(--primary-color);">SLAM Toolbox</h1>
                <p>
                    <strong>SLAM Toolbox</strong>ëŠ” ROS 2ì˜ í‘œì¤€ 2D SLAM ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.
                    Steve Macenskiê°€ ê°œë°œí–ˆìœ¼ë©°, Nav2 í”„ë¡œì íŠ¸ì™€ í•¨ê»˜ ì‚¬ìš©ë©ë‹ˆë‹¤.
                </p>

                <h3>ì£¼ìš” íŠ¹ì§•</h3>
                <ul>
                    <li>ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸ ë§¤í•‘</li>
                    <li>Lifelong ë§¤í•‘ (ì§€ì†ì  ì—…ë°ì´íŠ¸)</li>
                    <li>ìœ„ì¹˜ ì¶”ì • (Localization) ëª¨ë“œ</li>
                    <li>ì§ë ¬í™”ëœ ë§µ íŒŒì¼ (.posegraph)</li>
                    <li>ë£¨í”„ í´ë¡œì§•</li>
                    <li>RViz í”ŒëŸ¬ê·¸ì¸ (Interactive Mode)</li>
                </ul>

                <h2 id="toolbox-install">ì„¤ì¹˜</h2>
<pre><code># ë°”ì´ë„ˆë¦¬ ì„¤ì¹˜
sudo apt install ros-humble-slam-toolbox

# ì˜ì¡´ì„± í™•ì¸
ros2 pkg list | grep slam

# ì„¤ì¹˜ í™•ì¸
ros2 launch slam_toolbox --help</code></pre>

                <h2 id="toolbox-modes">ë™ì‘ ëª¨ë“œ</h2>

                <table class="specs-table">
                    <thead>
                        <tr>
                            <th>ëª¨ë“œ</th>
                            <th>Launch íŒŒì¼</th>
                            <th>ìš©ë„</th>
                            <th>íŠ¹ì§•</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Online Async</strong></td>
                            <td>online_async_launch.py</td>
                            <td>ì‹¤ì‹œê°„ ë§¤í•‘</td>
                            <td>CPU íš¨ìœ¨ì , ê¶Œì¥</td>
                        </tr>
                        <tr>
                            <td><strong>Online Sync</strong></td>
                            <td>online_sync_launch.py</td>
                            <td>ì •ë°€ ë§¤í•‘</td>
                            <td>ëª¨ë“  ìŠ¤ìº” ì²˜ë¦¬</td>
                        </tr>
                        <tr>
                            <td><strong>Offline</strong></td>
                            <td>offline_launch.py</td>
                            <td>Bagì—ì„œ ë§¤í•‘</td>
                            <td>í›„ì²˜ë¦¬</td>
                        </tr>
                        <tr>
                            <td><strong>Localization</strong></td>
                            <td>localization_launch.py</td>
                            <td>ê¸°ì¡´ ë§µì—ì„œ ìœ„ì¹˜ ì¶”ì •</td>
                            <td>ë§µ ìˆ˜ì • ì—†ìŒ</td>
                        </tr>
                        <tr>
                            <td><strong>Lifelong</strong></td>
                            <td>lifelong_launch.py</td>
                            <td>ì§€ì†ì  ë§µ ì—…ë°ì´íŠ¸</td>
                            <td>í™˜ê²½ ë³€í™” ëŒ€ì‘</td>
                        </tr>
                    </tbody>
                </table>

<pre><code># ì˜¨ë¼ì¸ ë¹„ë™ê¸° ë§¤í•‘ (ê¶Œì¥)
ros2 launch slam_toolbox online_async_launch.py

# ì»¤ìŠ¤í…€ íŒŒë¼ë¯¸í„° íŒŒì¼ ì‚¬ìš©
ros2 launch slam_toolbox online_async_launch.py \
    slam_params_file:=~/jetbot_ws/config/slam_params.yaml

# use_sim_time ì„¤ì • (ì‹œë®¬ë ˆì´ì…˜ìš©)
ros2 launch slam_toolbox online_async_launch.py \
    use_sim_time:=true</code></pre>

                <h2 id="toolbox-params">íŒŒë¼ë¯¸í„° ìƒì„¸ ì„¤ì •</h2>

<pre><code># config/slam_params.yaml
slam_toolbox:
  ros__parameters:

    # ========== ê¸°ë³¸ í”„ë ˆì„ ì„¤ì • ==========
    odom_frame: odom           # ì˜¤ë„ë©”íŠ¸ë¦¬ í”„ë ˆì„
    map_frame: map             # ë§µ í”„ë ˆì„
    base_frame: base_link      # ë¡œë´‡ ë² ì´ìŠ¤ í”„ë ˆì„
    scan_topic: /scan          # LiDAR í† í”½
    use_scan_matching: true    # ìŠ¤ìº” ë§¤ì¹­ ì‚¬ìš©
    use_scan_barycenter: true  # ìŠ¤ìº” ì¤‘ì‹¬ ì‚¬ìš©

    # ========== ë™ì‘ ëª¨ë“œ ==========
    mode: mapping              # mapping / localization / lifelong

    # ========== ë§µ í•´ìƒë„ ==========
    resolution: 0.05           # ë§µ ì…€ í¬ê¸° (m), ì‘ì„ìˆ˜ë¡ ì •ë°€
    # 0.01: ë§¤ìš° ì •ë°€ (ë©”ëª¨ë¦¬ ë§ì´ ì‚¬ìš©)
    # 0.05: ì¼ë°˜ì  (ê¶Œì¥)
    # 0.10: ëŒ€ëµì 

    # ========== ìŠ¤ìº” íŒŒë¼ë¯¸í„° ==========
    max_laser_range: 12.0      # ìµœëŒ€ ë ˆì´ì € ê±°ë¦¬ (m)
    # RPLIDAR A1: 12m
    # RPLIDAR A2: 18m
    # Hokuyo: 30m

    minimum_time_interval: 0.5      # ìµœì†Œ ìŠ¤ìº” ê°„ê²© (ì´ˆ)
    transform_timeout: 0.2          # TF íƒ€ì„ì•„ì›ƒ
    tf_buffer_duration: 30.0        # TF ë²„í¼ ê¸°ê°„

    # ========== ìŠ¤ìº” í•„í„° ==========
    minimum_angle: -3.14159    # ìµœì†Œ ê°ë„ (rad) = -180Â°
    maximum_angle: 3.14159     # ìµœëŒ€ ê°ë„ (rad) = 180Â°
    minimum_range: 0.1         # ìµœì†Œ ê±°ë¦¬ (m), ë„ˆë¬´ ê°€ê¹Œìš´ ë°ì´í„° ì œì™¸
    maximum_range: 12.0        # ìµœëŒ€ ê±°ë¦¬ (m)

    # ========== í‚¤í”„ë ˆì„ ì„¤ì • ==========
    # ìƒˆ ìŠ¤ìº”ì„ ì¶”ê°€í•˜ëŠ” ê¸°ì¤€
    minimum_travel_distance: 0.5    # ì´ë™ ê±°ë¦¬ (m)
    minimum_travel_heading: 0.5     # íšŒì „ ê°ë„ (rad) â‰ˆ 29Â°
    # ì‘ì€ ê°’: ë” ë§ì€ ìŠ¤ìº” â†’ ì •í™•í•˜ì§€ë§Œ ëŠë¦¼
    # í° ê°’: ì ì€ ìŠ¤ìº” â†’ ë¹ ë¥´ì§€ë§Œ ë¶€ì •í™•

    # ========== ìŠ¤ìº” ë§¤ì¹­ ==========
    scan_buffer_size: 10            # ë§¤ì¹­ì— ì‚¬ìš©í•  ìŠ¤ìº” ìˆ˜
    scan_buffer_maximum_scan_distance: 10.0
    link_match_minimum_response_fine: 0.1
    link_scan_maximum_distance: 1.5

    # ========== ë£¨í”„ í´ë¡œì§• ==========
    do_loop_closing: true           # ë£¨í”„ í´ë¡œì§• í™œì„±í™”
    loop_match_minimum_chain_size: 10
    loop_match_maximum_variance_coarse: 3.0
    loop_match_minimum_response_coarse: 0.35
    loop_match_minimum_response_fine: 0.45
    loop_search_maximum_distance: 3.0
    loop_search_space_dimension: 0.3
    loop_search_space_resolution: 0.05

    # ========== ìµœì í™” (Ceres Solver) ==========
    ceres_linear_solver: SPARSE_NORMAL_CHOLESKY
    # SPARSE_NORMAL_CHOLESKY: ì¼ë°˜ì  (ê¶Œì¥)
    # DENSE_QR: ì‘ì€ ë¬¸ì œ
    # ITERATIVE_SCHUR: ë§¤ìš° í° ë¬¸ì œ

    ceres_preconditioner: SCHUR_JACOBI
    ceres_trust_strategy: LEVENBERG_MARQUARDT
    ceres_dogleg_type: TRADITIONAL_DOGLEG
    ceres_loss_function: None
    # None, HuberLoss, CauchyLoss

    # ========== ì„±ëŠ¥ ==========
    stack_size_to_use: 40000000     # ìŠ¤íƒ í¬ê¸° (ë°”ì´íŠ¸)
    enable_interactive_mode: true   # RViz ì¸í„°ë™í‹°ë¸Œ ëª¨ë“œ

    # ========== ë°œí–‰ ì£¼ê¸° ==========
    transform_publish_period: 0.02  # TF ë°œí–‰ ì£¼ê¸° (ì´ˆ)
    map_update_interval: 5.0        # ë§µ ì—…ë°ì´íŠ¸ ì£¼ê¸° (ì´ˆ)

    # ========== ì§ë ¬í™” ==========
    map_file_name: ""               # ìë™ ì €ì¥ íŒŒì¼ëª…
    map_start_pose: [0.0, 0.0, 0.0] # ì´ˆê¸° ìœ„ì¹˜ [x, y, Î¸]
    map_start_at_dock: true</code></pre>

                <h2 id="toolbox-mapping">ë§¤í•‘ ì‹¤ìŠµ</h2>

                <h3>Step 1: ë…¸ë“œ ì‹¤í–‰</h3>
<pre><code># í„°ë¯¸ë„ 1: ë¡œë´‡ ë“œë¼ì´ë²„
ros2 launch jetbot_bringup jetbot.launch.py

# í„°ë¯¸ë„ 2: LiDAR
ros2 launch sllidar_ros2 sllidar_a1_launch.py

# í„°ë¯¸ë„ 3: SLAM Toolbox
ros2 launch slam_toolbox online_async_launch.py \
    slam_params_file:=~/jetbot_ws/config/slam_params.yaml

# í„°ë¯¸ë„ 4: RViz
rviz2 -d ~/jetbot_ws/config/slam.rviz

# í„°ë¯¸ë„ 5: í…”ë ˆì˜¤í¼ë ˆì´ì…˜
ros2 run teleop_twist_keyboard teleop_twist_keyboard</code></pre>

                <h3>Step 2: ë§¤í•‘ ì§„í–‰</h3>
<pre><code># í…”ë ˆì˜¤í¼ë ˆì´ì…˜ í‚¤:
#   i: ì „ì§„
#   j: ì¢ŒíšŒì „
#   l: ìš°íšŒì „
#   ,: í›„ì§„
#   k: ì •ì§€

# ë§¤í•‘ íŒ:
# 1. ì²œì²œíˆ ì´ë™ (0.2~0.3 m/s)
# 2. íšŒì „ì€ ë” ì²œì²œíˆ
# 3. ë²½ì„ ë”°ë¼ ì´ë™
# 4. ê°™ì€ ê³³ì„ ë‹¤ì‹œ ë°©ë¬¸ (ë£¨í”„ í´ë¡œì§•)
# 5. ë³µë„ ëì—ì„œ íšŒì „í•˜ë©° ìŠ¤ìº”</code></pre>

                <h3>Step 3: ë§µ ì €ì¥</h3>
<pre><code># ë°©ë²• 1: map_saver_cli ì‚¬ìš©
ros2 run nav2_map_server map_saver_cli -f ~/maps/my_room
# ìƒì„± íŒŒì¼: my_room.pgm, my_room.yaml

# ë°©ë²• 2: ì„œë¹„ìŠ¤ í˜¸ì¶œ
ros2 service call /slam_toolbox/save_map slam_toolbox/srv/SaveMap \
    "{name: {data: '/home/user/maps/my_room'}}"

# ë°©ë²• 3: RViz í”ŒëŸ¬ê·¸ì¸ (ì¸í„°ë™í‹°ë¸Œ ëª¨ë“œ)
# Panels -> Add New Panel -> SlamToolboxPlugin
# Save Map ë²„íŠ¼ í´ë¦­</code></pre>

                <h2 id="toolbox-localization">ìœ„ì¹˜ ì¶”ì • (Localization)</h2>
                <p>ê¸°ì¡´ ë§µì—ì„œ ë¡œë´‡ì˜ ìœ„ì¹˜ë§Œ ì¶”ì •í•©ë‹ˆë‹¤ (ë§µ ìˆ˜ì • ì—†ìŒ).</p>

<pre><code># ìœ„ì¹˜ ì¶”ì • ëª¨ë“œë¡œ ì‹¤í–‰
ros2 launch slam_toolbox localization_launch.py \
    map_file_name:=/home/user/maps/my_room \
    use_sim_time:=false

# ë˜ëŠ” íŒŒë¼ë¯¸í„° íŒŒì¼ì—ì„œ ëª¨ë“œ ë³€ê²½
# mode: localization</code></pre>

                <!-- Cartographer ì„¹ì…˜ -->
                <h1 id="carto-intro" style="margin-top: 4rem; padding-top: 2rem; border-top: 2px solid var(--primary-color);">Google Cartographer</h1>
                <p>
                    <strong>Cartographer</strong>ëŠ” Googleì—ì„œ ê°œë°œí•œ SLAM ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.
                    Submap ê¸°ë°˜ì˜ ê·¸ë˜í”„ ìµœì í™”ë¡œ ëŒ€ê·œëª¨ í™˜ê²½ì—ì„œë„ ì •í™•í•œ ë§¤í•‘ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                </p>

                <h3>íŠ¹ì§•</h3>
                <ul>
                    <li>2D ë° 3D SLAM ì§€ì›</li>
                    <li>IMU ë°ì´í„° í™œìš©</li>
                    <li>ëŒ€ê·œëª¨ í™˜ê²½ì—ì„œ ë›°ì–´ë‚œ ì„±ëŠ¥</li>
                    <li>Pure Localization ëª¨ë“œ</li>
                    <li>Lua ê¸°ë°˜ ì„¤ì •</li>
                </ul>

                <h2 id="carto-install">ì„¤ì¹˜</h2>
<pre><code># ROS 2 Humbleìš© ì„¤ì¹˜
sudo apt install ros-humble-cartographer ros-humble-cartographer-ros

# ì„¤ì¹˜ í™•ì¸
ros2 pkg list | grep cartographer</code></pre>

                <h2 id="carto-config">ì„¤ì • íŒŒì¼ (Lua)</h2>

<pre><code>-- config/jetbot_2d.lua
include "map_builder.lua"
include "trajectory_builder.lua"

options = {
  map_builder = MAP_BUILDER,
  trajectory_builder = TRAJECTORY_BUILDER,

  -- í”„ë ˆì„ ì„¤ì •
  map_frame = "map",
  tracking_frame = "base_link",      -- IMUê°€ ìˆìœ¼ë©´ "imu_link"
  published_frame = "odom",          -- odomì´ ìˆìœ¼ë©´ "odom", ì—†ìœ¼ë©´ "base_link"
  odom_frame = "odom",
  provide_odom_frame = false,        -- odomì´ ì—†ìœ¼ë©´ true
  publish_frame_projected_to_2d = true,

  -- ì„¼ì„œ ì‚¬ìš©
  use_odometry = true,               -- ì˜¤ë„ë©”íŠ¸ë¦¬ ì‚¬ìš© ì—¬ë¶€
  use_nav_sat = false,               -- GPS ì‚¬ìš© ì—¬ë¶€
  use_landmarks = false,             -- ëœë“œë§ˆí¬ ì‚¬ìš© ì—¬ë¶€

  -- ì„¼ì„œ ìˆ˜
  num_laser_scans = 1,               -- 2D LiDAR ìˆ˜
  num_multi_echo_laser_scans = 0,
  num_subdivisions_per_laser_scan = 1,
  num_point_clouds = 0,              -- 3D LiDAR ìˆ˜

  -- íƒ€ì´ë°
  lookup_transform_timeout_sec = 0.2,
  submap_publish_period_sec = 0.3,
  pose_publish_period_sec = 5e-3,
  trajectory_publish_period_sec = 30e-3,

  -- ì¸¡ì • ìƒ˜í”Œë§
  rangefinder_sampling_ratio = 1.0,
  odometry_sampling_ratio = 1.0,
  fixed_frame_pose_sampling_ratio = 1.0,
  imu_sampling_ratio = 1.0,
  landmarks_sampling_ratio = 1.0,
}

-- 2D SLAM ì„¤ì •
MAP_BUILDER.use_trajectory_builder_2d = true
MAP_BUILDER.num_background_threads = 4

-- Trajectory Builder 2D ì„¤ì •
TRAJECTORY_BUILDER_2D.use_imu_data = false  -- IMU ì—†ìœ¼ë©´ false
TRAJECTORY_BUILDER_2D.min_range = 0.1
TRAJECTORY_BUILDER_2D.max_range = 12.0
TRAJECTORY_BUILDER_2D.missing_data_ray_length = 5.0
TRAJECTORY_BUILDER_2D.num_accumulated_range_data = 1

-- ìŠ¤ìº” ë§¤ì¹­
TRAJECTORY_BUILDER_2D.use_online_correlative_scan_matching = true
TRAJECTORY_BUILDER_2D.real_time_correlative_scan_matcher.linear_search_window = 0.1
TRAJECTORY_BUILDER_2D.real_time_correlative_scan_matcher.angular_search_window = math.rad(20.)

-- Ceres ìŠ¤ìº” ë§¤ì¹­
TRAJECTORY_BUILDER_2D.ceres_scan_matcher.occupied_space_weight = 1.
TRAJECTORY_BUILDER_2D.ceres_scan_matcher.translation_weight = 10.
TRAJECTORY_BUILDER_2D.ceres_scan_matcher.rotation_weight = 40.

-- ì„œë¸Œë§µ ì„¤ì •
TRAJECTORY_BUILDER_2D.submaps.num_range_data = 90
TRAJECTORY_BUILDER_2D.submaps.grid_options_2d.resolution = 0.05

-- ë£¨í”„ í´ë¡œì§• (Pose Graph)
POSE_GRAPH.optimization_problem.huber_scale = 1e1
POSE_GRAPH.optimize_every_n_nodes = 35
POSE_GRAPH.constraint_builder.min_score = 0.55
POSE_GRAPH.constraint_builder.global_localization_min_score = 0.6

return options</code></pre>

                <h3>Launch íŒŒì¼</h3>
<pre><code># launch/cartographer.launch.py
from launch import LaunchDescription
from launch_ros.actions import Node
from launch.substitutions import PathJoinSubstitution
from launch_ros.substitutions import FindPackageShare

def generate_launch_description():
    return LaunchDescription([
        Node(
            package='cartographer_ros',
            executable='cartographer_node',
            name='cartographer_node',
            output='screen',
            parameters=[{'use_sim_time': False}],
            arguments=[
                '-configuration_directory', PathJoinSubstitution([
                    FindPackageShare('jetbot_slam'), 'config'
                ]),
                '-configuration_basename', 'jetbot_2d.lua'
            ],
            remappings=[
                ('scan', '/scan'),
                ('odom', '/odom'),
            ],
        ),
        Node(
            package='cartographer_ros',
            executable='cartographer_occupancy_grid_node',
            name='cartographer_occupancy_grid_node',
            output='screen',
            parameters=[{'use_sim_time': False}],
            arguments=[
                '-resolution', '0.05',
                '-publish_period_sec', '1.0'
            ],
        ),
    ])</code></pre>

                <h2 id="carto-tuning">Cartographer íŠœë‹</h2>

                <table class="specs-table">
                    <thead>
                        <tr>
                            <th>ë¬¸ì œ</th>
                            <th>íŒŒë¼ë¯¸í„°</th>
                            <th>ì¡°ì • ë°©í–¥</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ë“œë¦¬í”„íŠ¸ê°€ ì‹¬í•¨</td>
                            <td>TRAJECTORY_BUILDER_2D.ceres_scan_matcher.rotation_weight</td>
                            <td>ì¦ê°€ (40â†’100)</td>
                        </tr>
                        <tr>
                            <td>ë¹ ë¥¸ ì´ë™ ì‹œ ì‹¤íŒ¨</td>
                            <td>real_time_correlative_scan_matcher.linear_search_window</td>
                            <td>ì¦ê°€ (0.1â†’0.2)</td>
                        </tr>
                        <tr>
                            <td>ë£¨í”„ í´ë¡œì§• ì•ˆë¨</td>
                            <td>constraint_builder.min_score</td>
                            <td>ê°ì†Œ (0.55â†’0.45)</td>
                        </tr>
                        <tr>
                            <td>CPU ì‚¬ìš©ëŸ‰ ë†’ìŒ</td>
                            <td>num_background_threads</td>
                            <td>ê°ì†Œ (4â†’2)</td>
                        </tr>
                        <tr>
                            <td>ë§µ í•´ìƒë„ ë‚®ìŒ</td>
                            <td>submaps.grid_options_2d.resolution</td>
                            <td>ê°ì†Œ (0.05â†’0.02)</td>
                        </tr>
                    </tbody>
                </table>

                <!-- ë§µ ê´€ë¦¬ ì„¹ì…˜ -->
                <h1 id="map-format" style="margin-top: 4rem; padding-top: 2rem; border-top: 2px solid var(--primary-color);">ë§µ íŒŒì¼ í˜•ì‹</h1>

                <h3>OccupancyGrid ë§µ êµ¬ì¡°</h3>
<pre><code># my_map.yaml
image: my_map.pgm          # ì´ë¯¸ì§€ íŒŒì¼
resolution: 0.050000       # ë¯¸í„°/í”½ì…€
origin: [-10.0, -10.0, 0]  # ë§µ ì›ì  [x, y, yaw]
negate: 0                  # 0: í°ìƒ‰=free, 1: ê²€ì€ìƒ‰=free
occupied_thresh: 0.65      # ì ìœ  ì„ê³„ê°’ (ì´ìƒì´ë©´ ì¥ì• ë¬¼)
free_thresh: 0.196         # ììœ  ì„ê³„ê°’ (ì´í•˜ì´ë©´ ììœ ê³µê°„)

# PGM í”½ì…€ ê°’:
# 0 (ê²€ì€ìƒ‰): ì¥ì• ë¬¼ (occupied)
# 254 (í°ìƒ‰): ììœ  ê³µê°„ (free)
# 205 (íšŒìƒ‰): ë¯¸íƒìƒ‰ (unknown)</code></pre>

                <h2 id="map-save">ë§µ ì €ì¥</h2>
<pre><code># Nav2 Map Saver
ros2 run nav2_map_server map_saver_cli -f ~/maps/my_map

# ì˜µì…˜
ros2 run nav2_map_server map_saver_cli \
    -f ~/maps/my_map \
    --ros-args -p save_map_timeout:=5000

# SLAM Toolbox ì„œë¹„ìŠ¤
ros2 service call /slam_toolbox/save_map slam_toolbox/srv/SaveMap \
    "{name: {data: 'my_map'}}"

# Cartographer pbstream ì €ì¥
ros2 service call /write_state cartographer_ros_msgs/srv/WriteState \
    "{filename: '/home/user/maps/my_map.pbstream'}"</code></pre>

                <h2 id="map-edit">ë§µ í¸ì§‘</h2>
<pre><code># GIMPë¡œ PGM í¸ì§‘
gimp ~/maps/my_map.pgm

# í¸ì§‘ íŒ:
# - ê²€ì€ìƒ‰(0)ìœ¼ë¡œ ê°€ìƒ ë²½ ì¶”ê°€
# - í°ìƒ‰(254)ìœ¼ë¡œ ì˜¤ì¸ì‹ ì¥ì• ë¬¼ ì œê±°
# - íšŒìƒ‰(205)ìœ¼ë¡œ ì§„ì… ê¸ˆì§€ êµ¬ì—­ ì„¤ì •

# Pythonìœ¼ë¡œ ë§µ ì²˜ë¦¬
import cv2
import numpy as np

# ë§µ ë¡œë“œ
map_img = cv2.imread('my_map.pgm', cv2.IMREAD_GRAYSCALE)

# ë…¸ì´ì¦ˆ ì œê±°
kernel = np.ones((3,3), np.uint8)
map_cleaned = cv2.morphologyEx(map_img, cv2.MORPH_CLOSE, kernel)

# ì €ì¥
cv2.imwrite('my_map_cleaned.pgm', map_cleaned)</code></pre>

                <h2 id="map-server">Map Server</h2>
<pre><code># Map Server ì‹¤í–‰
ros2 run nav2_map_server map_server \
    --ros-args -p yaml_filename:=~/maps/my_map.yaml

# Lifecycle ê´€ë¦¬
ros2 lifecycle set /map_server configure
ros2 lifecycle set /map_server activate

# ë˜ëŠ” Launch íŒŒì¼ ì‚¬ìš©
ros2 launch nav2_bringup localization_launch.py \
    map:=~/maps/my_map.yaml</code></pre>

                <!-- ê³ ê¸‰ ì£¼ì œ -->
                <h1 id="loop-closing" style="margin-top: 4rem; padding-top: 2rem; border-top: 2px solid var(--primary-color);">ê³ ê¸‰ ì£¼ì œ</h1>

                <h2>ë£¨í”„ í´ë¡œì§• (Loop Closing)</h2>
                <p>
                    ë¡œë´‡ì´ ì´ì „ì— ë°©ë¬¸í•œ ì¥ì†Œë¥¼ ë‹¤ì‹œ ì¸ì‹í•˜ì—¬ ëˆ„ì  ì˜¤ì°¨ë¥¼ ë³´ì •í•©ë‹ˆë‹¤.
                </p>

                <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      LOOP CLOSING                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   Before Loop Closing:          After Loop Closing:             â”‚
â”‚                                                                  â”‚
â”‚   Start â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          Start â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚         â†“            â”‚                â†“            â”‚            â”‚
â”‚         â†“            â”‚                â†“            â”‚            â”‚
â”‚         â†“            â”‚                â†“            â”‚            â”‚
â”‚         â†“            â”‚                â†“            â”‚            â”‚
â”‚         End â†â”€â”€â”€â”€â”€â”€â”€â”€â”˜                End = Start!              â”‚
â”‚                                                                  â”‚
â”‚   (ë“œë¦¬í”„íŠ¸ë¡œ ì¸í•´                 (ë£¨í”„ ê°ì§€ í›„                  â”‚
â”‚    ì‹œì‘ì ê³¼ ëì  ë¶ˆì¼ì¹˜)           ì „ì²´ ê²½ë¡œ ìµœì í™”)              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>

                <h2 id="multi-floor">ë‹¤ì¸µ ë§¤í•‘</h2>
<pre><code># ê° ì¸µì„ ë³„ë„ë¡œ ë§¤í•‘
ros2 run nav2_map_server map_saver_cli -f ~/maps/floor_1
ros2 run nav2_map_server map_saver_cli -f ~/maps/floor_2

# ì¸µ ì „í™˜ ì‹œ ë§µ êµì²´
ros2 service call /map_server/load_map nav2_msgs/srv/LoadMap \
    "{map_url: '/home/user/maps/floor_2.yaml'}"</code></pre>

                <h2 id="visual-slam">Visual SLAM ì†Œê°œ</h2>
                <p>ì¹´ë©”ë¼ë§Œìœ¼ë¡œ SLAMì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. JetBotì˜ GPUë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

                <table class="specs-table">
                    <thead>
                        <tr>
                            <th>ì•Œê³ ë¦¬ì¦˜</th>
                            <th>ì„¼ì„œ</th>
                            <th>íŠ¹ì§•</th>
                            <th>ROS 2 ì§€ì›</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ORB-SLAM3</strong></td>
                            <td>Mono/Stereo/RGB-D</td>
                            <td>íŠ¹ì§•ì  ê¸°ë°˜, ì •í™•</td>
                            <td>ë¹„ê³µì‹</td>
                        </tr>
                        <tr>
                            <td><strong>RTAB-Map</strong></td>
                            <td>RGB-D/Stereo</td>
                            <td>Loop closure, 3D</td>
                            <td>ê³µì‹</td>
                        </tr>
                        <tr>
                            <td><strong>Isaac ROS Visual SLAM</strong></td>
                            <td>Stereo</td>
                            <td>NVIDIA GPU ê°€ì†</td>
                            <td>ê³µì‹</td>
                        </tr>
                        <tr>
                            <td><strong>Stella VSLAM</strong></td>
                            <td>Mono/Stereo</td>
                            <td>ORB-SLAM2 ê¸°ë°˜</td>
                            <td>ìˆìŒ</td>
                        </tr>
                    </tbody>
                </table>

<pre><code># RTAB-Map ì„¤ì¹˜
sudo apt install ros-humble-rtabmap-ros

# RGB-D SLAM ì‹¤í–‰
ros2 launch rtabmap_launch rtabmap.launch.py \
    rgb_topic:=/camera/color/image_raw \
    depth_topic:=/camera/depth/image_raw \
    camera_info_topic:=/camera/color/camera_info</code></pre>

                <div class="alert alert-success">
                    <strong>SLAM ì„ íƒ ê°€ì´ë“œ:</strong>
                    <ul>
                        <li><strong>JetBot ê¸°ë³¸</strong>: SLAM Toolbox + RPLIDAR</li>
                        <li><strong>ì •ë°€ ë§¤í•‘</strong>: Cartographer</li>
                        <li><strong>3D ë§¤í•‘</strong>: RTAB-Map + RGB-D ì¹´ë©”ë¼</li>
                        <li><strong>GPU í™œìš©</strong>: Isaac ROS Visual SLAM</li>
                    </ul>
                </div>

                <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border-color);">
                    <p style="text-align: center;">
                        <a href="visualization.html" class="btn btn-secondary">&larr; ì‹œê°í™” ë„êµ¬</a>
                        <a href="navigation.html" class="btn btn-primary" style="margin-left: 1rem;">ë‹¤ìŒ: Navigation &rarr;</a>
                    </p>
                </div>
            </article>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-logo">
            <img src="https://raw.githubusercontent.com/hwkim3330/roii/refs/heads/main/keti.png" alt="KETI">
        </div>
        <p>
            JetBot ROS2 Documentation &copy; 2024 KETI |
            <a href="https://github.com/hwkim3330/jetbot-docs" target="_blank">GitHub</a>
        </p>
    </footer>
</body>
</html>
